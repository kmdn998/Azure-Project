<!DOCTYPE html>
<html lang="ko" class="no-js" >
<head>
    <link rel="stylesheet" href="css/login2.css">
    <script
        type="text/javascript"
        src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.0.js"
        charset="utf-8"
        ></script>
        <style>
            input.underline {border:0;border-bottom:1 solid=rgb(246, 165, 13);}
        </style>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Bagel+Fat+One&family=Domine&family=Noto+Sans+KR:wght@400;500;700&display=swap');
        </style>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Bagel+Fat+One&family=Domine&family=Dongle:wght@700&family=Noto+Sans+KR:wght@400;500;700&display=swap');
        </style>
        <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
        <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
        <script src="./login2.js"></script>
</head>
    <body id="particles-js"></body>
    <div class="animated bounceInDown">
    <div class="container">
        <span class="error animated tada" id="msg"></span>
        <form name="form1" class="box" onsubmit="return checkStuff()">
        <h1><span>DDS</span></h1>
        <h3>로그인</h3>
            <div class="input-group">
                <i class="bx bxs-lock-alt"></i>
        
                <div id="naverIdLogin"></div>
                <script type="text/javascript">
                var naverLogin = new naver.LoginWithNaverId({
                    clientId: "AtEE4lDLuNQnV2U6X_gg",
                    callbackUrl: "http://127.0.0.1:5502",
                    isPopup: true,
                    loginButton: { color: "green", type: 5, height: 48 },
                });
                naverLogin.init();
                </script>
            </div>

            <button id="kakao-login-btn">카카오로 로그인</button> 
            <!-- <script type="text/javascript">
                Kakao.init("8cd9a7b988003d6821148374f32e3cda");
                console.log(Kakao.isInitialized());
                
                Kakao.Auth.createLoginButton({
                    container: "#kakao-login-btn",
                    success: function (authObj) {
                        // 로그인 성공 시, 백엔드에 토큰을 전송합니다.
                        fetch("http://localhost:8000/login", {
                            method: "POST",
                            headers: {
                            "Content-Type": "application/json",
                            },
                            body: JSON.stringify({
                            access_token: authObj.access_token,
                            }),
                        })
                        .then((response) => {
                            if (!response.ok) {
                                throw new Error("Network response was not ok");
                            }
                            return response.json();
                        })
                        .then((data) => {
                            // 백엔드에서 받은 JWT를 로컬 저장소에 저장합니다.
                            localStorage.setItem("jwt", data.token);
                            
                            // 토큰 전송 성공 알림 띄우기
                            showNotification("토큰 전송 성공!", "토큰이 성공적으로 전송되었습니다.");
                        })
                        .catch((error) => {
                            console.error("Error:", error);
                            
                            // 토큰 전송 실패 알림 띄우기
                            showNotification("토큰 전송 실패!", "토큰 전송에 실패하였습니다. 다시 시도해주세요.", "error");
                        });
                    },
                    fail: function (err) {
                        alert("failed to login: " + JSON.stringify(err));
                    },
                });
                
                // 알림을 띄우는 함수
                function showNotification(title, message, type = "info") {
                    const options = {
                        body: message,
                        icon: "path/to/notification_icon.png", // 필요에 따라 이미지 경로를 설정합니다.
                    };

                    // 브라우저가 알림을 지원하는지 확인합니다.
                    if ("Notification" in window) {
                        if (Notification.permission === "granted") {
                            new Notification(title, options);
                        } else if (Notification.permission !== "denied") {
                            Notification.requestPermission().then(function (permission) {
                                if (permission === "granted") {
                                    new Notification(title, options);
                                }
                            });
                        }
                    }
                }
            </script> -->

                 
            <input type="submit" value="로그인 후 서비스 이용이 가능합니다." class="btn1">
        </form>
</html>
