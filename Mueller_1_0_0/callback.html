<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      type="text/javascript"
      src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.2.js"
      charset="utf-8"
    ></script>
  </head>
  <body>
    <script>
      var naverLogin = new naver.LoginWithNaverId({
        clientId: "{AtEE4lDLuNQnV2U6X_gg}", // 내꺼
        callbackUrl: "{http://127.0.0.1:5502}",
        isPopup: true,
        callbackHandle: true,
        /* callback 페이지가 분리되었을 경우에 callback 페이지에서는 callback처리를 해줄수 있도록 설정합니다. */
      });

      /* (3) 네아로 로그인 정보를 초기화하기 위하여 init을 호출 */
      naverLogin.init();

      /* (4) Callback의 처리. 정상적으로 Callback 처리가 완료될 경우 main page로 redirect(또는 Popup close) */
      window.addEventListener("load", function () {
        naverLogin.getLoginStatus(function (status) {
          if (status) {
            var email = naverLogin.user.getEmail();
            if (email == undefined || eail == null) {
              alert("이메일");
              naverLogin.reprompt();
              return;
            }
          } else {
            console.log("callback 처리 실패");
          }
        });
      });
    </script>
  </body>
</html>
